# Sandwich Shop

A simple Flutter app that demonstrates a small ordering UI for a sandwich shop. The app lets users select a sandwich size, choose a bread type, add a short note (special requests), and increase/decrease the order quantity. It’s designed as a small teaching/example project and contains a few reusable widgets and a tiny repository class for order state.

---

## Key features

- Select sandwich size (Footlong or Six-inch)
- Select bread type (White, Wheat, Italian, Honey Oat)
- Add a short note / special requests (e.g. "no onions", "extra pickles")
- Increase / decrease quantity with circular icon buttons
- Simple `OrderRepository` that enforces a `maxQuantity`
 - `PricingRepository` which calculates total price (defaults: six-inch £7.00, footlong £11.00)
- Reusable `OrderItemDisplay` and `StyledButton` components

---

## Installation & setup

Prerequisites

- Flutter SDK (stable). Tested with Flutter 3.x / Dart 3.x.
- Git (to clone the repository).
- A target device/emulator or Chrome for web.

On Windows (PowerShell) the basic steps are:

1. Clone the repo:

```powershell
git clone https://github.com/hfaulk/sandwich_shop
cd sandwich_shop/flutter_application_1
```

2. Get packages and analyze:

```powershell
flutter pub get
flutter analyze
```

3. Run the app (choose a device or run for web):

```powershell
# Run on the first connected device / emulator
flutter run

# Or run in Chrome (web)
flutter run -d chrome
```

Notes about OneDrive: Projects in OneDrive sometimes get file locks/permission issues. If you encounter errors deleting `build/` or `flutter_assets`, move the project to a local folder (e.g. `C:\Users\<you>\Dev`) and try again.

---

## Usage (what the app does)

1. Launch the app.
2. Pick sandwich size using the segmented control (Footlong / Six-inch) or the provided toggle.
3. Pick a bread type using the bread selector (dropdown in current UI).
4. Optionally enter a note in the "Add a note" field (e.g., "no onions").
5. Use the round + / - buttons to increase / decrease the quantity. Buttons are disabled when you reach 0 or the configured `maxQuantity`.
6. The order summary in the top area shows: `<quantity> <type> sandwich(es) on <bread> bread:` and then a line of sandwich emoji representing quantity and an optional note.

Additionally, the UI now shows the calculated total price for the current order (displayed as "Total: £X.XX"). Default prices used by the built-in `PricingRepository` are:

- six-inch: £7.00
- footlong: £11.00

If you want to change the prices for testing or different markets, the `PricingRepository` can be constructed with custom prices.

Important user flows

- Notes are typed into the text field before pressing Add/Remove. The UI updates live and the note is displayed in the order summary.
- The app prevents incrementing past `maxQuantity` (default 5) and decrementing below 0.

---

## Running tests

This project includes widget tests under `test/views/`.

Run all tests:

```powershell
flutter test
```

Run a single test file:

```powershell
flutter test test/views/widget_test.dart
```

If tests fail because of package naming or imports, ensure the app's package name in `pubspec.yaml` (the `name:` field) matches how tests import the app. The test suite in this repo expects the package name `sandwich_shop` and the `MyApp` widget to be exported from `lib/main.dart`.

Notes for testing
- The notes TextField has the key `notes_textfield` in the UI, and the sandwich-size switch has the key `sandwich_size_switch`. Tests use these keys to find and interact with those widgets reliably.

If you need to target the Add / Remove buttons from tests, consider adding explicit `Key`s to them in `lib/main.dart` (they are currently found by icon in the included tests).

---

## Project structure (short)

- `lib/main.dart` — app entrypoint and most UI widgets (OrderScreen, OrderItemDisplay, StyledButton)
- `lib/repositories/order_repository.dart` — small repository that stores the current quantity and enforces `maxQuantity`
- `lib/views/` — additional view files (if present)
- `test/views/` — widget tests for UI behaviors
- `android/`, `ios/`, `web/`, `windows/`, `linux/`, `macos/` — platform folders generated by Flutter

Key files worth checking:

- `pubspec.yaml` — declares Flutter SDK and dependencies
- `lib/main.dart` — main UI and state wiring
- `lib/repositories/order_repository.dart` — business logic for quantity
 - `lib/repositories/order_repository.dart` — business logic for quantity
 - `lib/repositories/price_repository.dart` — pricing logic (total price calculation)
- `test/views/widget_test.dart` — example widget tests used during development

---

## Technologies & dependencies

- Flutter (SDK)
- Dart
- cupertino_icons (declared in `pubspec.yaml`)
- Flutter test utilities (for widget tests)

---

## Contact

- Maintainer: Harry Faulkner
- Email: up2305969@myport.ac.uk
- GitHub: https://github.com/hfaulk